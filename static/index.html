<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Binary Search Tree Visualizer</title>

    <!-- Google font for a nicer look -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
      /* === Reset & base === */
      :root{
        --bg-start: #caa0ff;
        --bg-end: #ffd1e0;
        --card-bg: #ffffff;
        --muted: #6b7280;
        --accent: #4CAF50;
        --primary: #2b2f9b;
        --chip-shadow: 0 6px 18px rgba(43,47,155,0.12);
        --soft-shadow: 0 8px 28px rgba(16,24,40,0.06);
        --radius: 14px;
      }
      * { box-sizing: border-box; }
      html,body { height:100%; margin:0; font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color:#111827; }

      body {
        display:flex;
        align-items:flex-start;
        justify-content:center;
        padding:36px 20px;
        background: linear-gradient(180deg, var(--bg-start) 0%, var(--bg-end) 100%);
      }

      /* === Main wrapper card === */
      .app {
        width: min(920px, 96vw);
      }

      header.app-header {
        text-align:center;
        margin-bottom:18px;
      }
      header h1 {
        margin:0;
        font-size: clamp(20px, 3.2vw, 36px);
        letter-spacing: -0.6px;
        display:flex;
        align-items:center;
        justify-content:center;
        gap:12px;
        color: #24104e;
      }
      header h1 .logo {
        font-size:28px;
        line-height:0;
      }

      /* Card layout */
      .card {
        background: var(--card-bg);
        border-radius: calc(var(--radius) + 6px);
        box-shadow: var(--soft-shadow);
        padding: 20px;
        margin-bottom:18px;
      }

      /* Controls row */
      .controls {
        display:flex;
        gap:14px;
        align-items:center;
        flex-wrap:wrap;
      }

      .controls .wide {
        flex:1 1 520px;
      }

      input[type="text"].input, input[type="number"].input, select.input {
        width:100%;
        padding:12px 14px;
        border-radius:10px;
        border:1px solid #e6e6ea;
        font-size:15px;
        outline:none;
        box-shadow: 0 1px 0 rgba(0,0,0,0.02) inset;
        transition: box-shadow 180ms ease, transform 120ms ease;
      }
      input.input:focus, select.input:focus {
        box-shadow: 0 6px 18px rgba(43,47,155,0.06);
        transform: translateY(-1px);
        border-color: rgba(43,47,155,0.12);
      }

      .btn {
        padding: 10px 16px;
        border-radius: 10px;
        border: none;
        cursor: pointer;
        font-weight:600;
        font-size:15px;
        box-shadow: var(--chip-shadow);
        transition: transform 120ms ease, box-shadow 120ms;
      }
      .btn:hover { transform: translateY(-2px); }
      .btn-cta { background:var(--accent); color:#fff; }
      .btn-ghost { background: transparent; color:var(--primary); border:1px solid rgba(43,47,155,0.06); box-shadow:none; }

      .controls .small-btns { display:flex; gap:8px; align-items:center; }

      /* Traversal chips area */
      .chips {
        margin-top:18px;
        display:flex;
        align-items:center;
        gap:10px;
        flex-wrap:wrap;
        justify-content:flex-start;
      }
      .chip {
        display:inline-flex;
        align-items:center;
        justify-content:center;
        min-width:52px;
        height:52px;
        border-radius:999px;
        color:white;
        font-weight:700;
        box-shadow: var(--chip-shadow);
        padding: 8px 14px;
        font-size:16px;
      }

      /* Traversal result label */
      .traversal-result {
        display:block;
        margin-top:14px;
        background: linear-gradient(180deg, rgba(243,244,246,0.6), rgba(255,255,255,0.6));
        padding:12px;
        border-radius:10px;
        color:var(--muted);
        font-weight:600;
      }

      /* Visualization area (SVG & Canvas) */
      .visual-card {
        margin-top:18px;
        padding:18px;
        background: linear-gradient(180deg, #ffffff, #fbfbfd);
        border-radius:12px;
        border: 1px solid rgba(14,22,41,0.03);
      }

      /* Buttons below visualization */
      .vis-controls { display:flex; gap:10px; justify-content:center; margin-bottom:12px; }
      .vis-controls .btn { min-width:120px; }

      /* SVG container */
      #svgWrapper {
        border-radius:10px;
        padding:18px;
        background: #fff;
        box-shadow: 0 8px 28px rgba(16,24,40,0.04);
        border:1px solid rgba(16,24,40,0.03);
      }

      svg#treeDisplay { width:100%; height:380px; display:block; }

      /* Node default styling (apply with your d3 code via classes) */
      .node circle {
        stroke-width: 3px;
        stroke: rgba(0,0,0,0.06);
      }
      .node text { font-weight:700; fill:#fff; font-size:14px; pointer-events:none; }

      /* Responsive tweaks */
      @media (max-width:720px) {
        .controls { flex-direction:column; align-items:stretch; }
        .controls .small-btns { justify-content:flex-start; width:100%; }
        .chips { justify-content:center; }
      }


    canvas {
        display: block;
    }


    .hidden {
  display: none;
}

#visualSection {
  margin-top: 20px;
  width: 100%;
  transition: all 0.4s ease;
  animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* SVG wrapper adapts to tree size dynamically */
#svgWrapper {
  width: 100%;
  height: auto;
  display: flex;
  justify-content: center;
  overflow: visible;
}
#treeDisplay {
  width: 100%;
  height: auto;
}



  </style>
  </head>

  <body>
    <div class="app">
      <header class="app-header">
        <h1><span class="logo">üå≥</span> Binary Search Tree Visualizer</h1>
      </header>
      

      <!-- Top controls card -->
      <section class="card">
        <div class="controls">
          <div class="wide">
            <input id="numbersInput" class="input" type="text" placeholder="Enter numbers separated by commas (e.g. 8,3,10,1,6,14)">
          </div>

          <div class="small-btns">
          <!-- Controls Section -->
              <div class="vis-controls">
                <button id="generateBtn" class="btn btn-cta" onclick="generateTree()">üå≥ Generate Tree</button>
              </div>
            <p id="statusMessage" style="font-weight: bold; transition: opacity 0.5s ease; opacity: 0; margin-top: 8px;"></p>
          </div>
        </div>

        <div style="height:12px"></div>

        <!-- Insert/Delete row -->
        <div class="controls">
          <input id="valueInput" class="input" type="number" placeholder="Enter number" style="max-width:180px;">
          <div class="small-btns">
            <button class="btn btn-ghost" onclick="insertValue()">‚ûï Insert Node</button>
            <button class="btn btn-ghost" onclick="deleteValue()">üóëÔ∏è Delete Node</button>
            <button class="btn" style="background:#ff6b6b; color:white;" onclick="clearTree()">Clear Tree</button>
            <button id="generateRandomBtn" class="btn" style="background:#6b46c1; color:white;">üé≤ Generate Random Tree</button>
          </div>
        </div>

        

        <div style="height:12px"></div>

        <div class="controls" style="align-items:center;">
          <label style="font-weight:600;">Choose Traversal Order:</label>
          <select id="traversalType" class="input" style="max-width:360px;">
            <option value="">--Select--</option>
            <option value="inorder">Inorder (Left ‚Üí Root ‚Üí Right)</option>
            <option value="preorder">Preorder (Root ‚Üí Left ‚Üí Right)</option>
            <option value="postorder">Postorder (Left ‚Üí Right ‚Üí Root)</option>
          </select>

          <button id="traverseBtn" class="btn btn-cta" style="margin-left:auto;">Visualize Traversal üîç</button>
        </div>

        <div class="traversal-result" id="traversalResult">INORDER Traversal: 34 ‚Üí 50 ‚Üí 65 ‚Üí 67 ‚Üí 90</div>

      </section>


      <!-- Visualization Section (Hidden by Default) -->
      <section id="visualSection" class="card visual-card hidden">
        <div class="vis-controls">
          
          <button id="pauseBtn" class="btn" style="background:#ff9800; color:#fff;">‚è∏ Pause</button>
          <button id="resumeBtn" class="btn btn-cta">‚ñ∂Ô∏è Resume</button>
          <button id="closeVisualBtn" class="btn" style="background:#f44336; color:white;">‚ùå Close Visualization</button>
        </div>

        <div id="svgWrapper">
          <svg id="treeDisplay" role="img" aria-label="Binary search tree visualization"></svg>
        </div>
      </section>

    </div>

    <canvas id="treeCanvas"></canvas>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
